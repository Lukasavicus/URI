<!DOCTYPE html>
    <html>
        <head>
            <title>URI 1995 - Game, Set e Match</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
            <meta name="description" content="URI Online Judge - Problema 1995 - Game, Set e Match" />

            <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/default.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
        </head>
        <body>

            <div class="header">
                <span>URI Online Judge | 1995</span>
                <h1>Game, Set e Match</h1>
                <div>
                    <p>Por Fidel I. Schaposnik, Universidad de Buenos Aires <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/ar.gif' alt='AR' /> Argentina</p>
                </div>
                <strong>Timelimit: 5</strong>
            </div>

            <div class="problem">

                <div class="description">
                    <p>A Associação de Clubes Modernos organiza anualmente um torneio de CompuTenis, que é um esporte especialmente adaptado para um público sem quaisquer qualidades físicas mensuráveis. As regras do CompuTenis são muito complexas (basta dizer que elas envolvem codificação com o cotovelo colado ao ouvido), mas, felizmente, não é necessário conhecêlas para resolver este problema. Você só precisa saber que em uma partida CompuTenis dois jogadores se opõem um ao outro, e o jogo é ganho pelo jogador que ganha primeiro S rodadas; por sua vez, cada conjunto é composto de vários jogos, e para ganhar um conjunto um jogador deve ganhar pelo menos J jogos, com uma diferença de, pelo menos, D mais jogos ganhos do que o adversário.</p>

                    <p>O torneio tem K rodadas, e existem N = 2<sup>K</sup> jogadores na mesma, e todos participam da primeira rodada. Em cada rodada cada um dos jogadores participantes restantes está emparelhado com outro jogador participante, a fim de jogar uma única partida. O vencedor de cada uma dessas partidas avança para a próxima rodada, enquanto o perdedor é automaticamente desclassificado do torneio. O vencedor do único jogo na rodada K é, portanto, o vencedor do torneio.</p>

                    <p>É desejável que o torneio dure o maior tempo possível, tendo em vista que os jogos são transmitidos pela televisão e a Associação é paga por cada minuto no ar. Dado qualquer par de jogadores diferentes, a Associação sabe a probabilidade de um deles vencer um jogo contra o outro. Você é um membro da comissão organizadora, e sua tarefa é organizar os jogos de cada rodada, a fim de maximizar o número esperado de jogos disputados no torneio. Organizar as partidas é decidir quais pares de jogadores vão jogar um jogo na primeira rodada, e depois para cada uma das rodadas seguintes decidir qual par de partidas da rodada anterior fornecerá os jogadores vencedores para cada jogo nessa rodada. Note que isto só pode depender da identificação das partidas na rodada anterior. A figura a seguir mostra um possível emparelhamento para K = 3 rodadas e N = 2<sup>3</sup> = 8 jogadores.</p>

                    <p class="center">
                        <img alt="" src="https://urionlinejudge.r.worldssl.net/gallery/images/problems/UOJ_1995_pt.png" /></p>

                    <p>Agora, a Associação quer apenas estimar seus ganhos, por isso é suficiente dizer a eles o número máximo esperado de jogos que podem ser jogados no torneio.</p>

                </div>

                <h2>Entrada</h2>

                <div class="input">
                    <p>A entrada contém vários casos de teste. Cada caso de teste é descrito usando várias linhas. A primeira linha contém quatro números inteiros, K, S, J e D. O valor K indica o número de rodadas no torneio (1 &lt;= K &lt;= 3). O valor S indica o número de rodadas que um jogador deve vencer para ganhar um jogo (1 &lt;= S &lt;= 10). O valor J indica o número mínimo de jogos que um jogador deve vencer a fim de ganhar a rodada, enquanto que D indica que um jogador deve ganhar D mais jogos do que o seu adversário para ele vencer a rodada (1 &lt;= D &lt;= J &lt;= 100). Os jogadores estão identificadas por diferentes números inteiros entre 1 e N = 2<sup>K</sup>. Cada uma das N linhas seguintes contém N valores.</p>

                    <p>Na i-ésima linha, o j-ésimo valor é um número inteiro P_ij tal que p_ij = P_ij/100 é a probabilidade que o jogador número i ganhe um jogo contra o jogador de número j (0 &lt;= P_ij &lt;= 100 para 1 &lt;= i, j &lt;= N). Você pode assumir que P_ii = 0 (nenhum jogador se opõe a ele mesmo) e que P_ij + P_ji = 100 para i e j diferente.</p>

                    <p>O final da entrada é indicado por uma única linha contendo o número -1.</p>

                </div>

                <h2>Saída</h2>

                <div class="output">
                    <p>Para cada caso de teste, você deve imprimir uma linha contendo um número racional que representa o número máximo esperado de jogos que o torneio dado pode ter. O resultado deve ser arredondado para o número racional mais próximo com 2 dígitos decimais. Em caso de empate, o número deve ser arredondado para cima. Nota-se que você deve sempre imprimir 2 dígitos após o ponto, mesmo que isso signifique terminar com um zero.</p>

                </div>

                <div class="both"></div>

                <table>
                    <thead>
                        <tr>
                            <td>Exemplo de Entrada</td>
                            <td>Exemplo de Saída</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="division">
                                <p>1 1 2 2<br/>
0 50<br/>
50 0<br/>
3 3 6 2<br/>
0 88 2 76 71 24 50 4<br/>
12 0 54 37 84 95 88 98<br/>
98 46 0 66 36 13 33 33<br/>
24 63 34 0 29 21 96 63<br/>
29 16 64 71 0 0 47 13<br/>
76 5 87 79 100 0 56 89<br/>
50 12 67 4 53 44 0 23<br/>
96 2 67 37 87 11 77 0<br/>
-1 -1 -1 -1</p>

                            </td>
                            <td>
                                <p>4.00<br/>
224.08</p>

                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="both"></div>              
            <p class="footer">
                    Torneo Argentino de Programación — ACM–ICPC 2011
                </p>
            </div>

        </body>
    </html>