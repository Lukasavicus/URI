
	<!DOCTYPE html>
	<html>
		<head>
			<title>URI 2270 - Maze Reduction</title>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
			<meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
			<meta name="description" content="URI Online Judge - Problema 2270 - Maze Reduction" />

			<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
			<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/contest.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
		</head>
		<body>

			<div class="header">
				<span>URI Online Judge | 2270</span>
				<h1>Maze Reduction</h1>
				<div>
					<p>By ICPC 2014 World Finals <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/ru.gif' alt='RU' /> Russian Federation</p>
				</div>
				<strong>Timelimit: 2</strong>
			</div>

			<div class="problem">

				<div class="description">
					<p>Jay runs a small carnival that has various rides and attractions. Unfortunately, times are tough. A recent roller coaster accident, flooding in the restrooms, and an unfortunate clown incident have given Jay’s carnival a bad reputation with the public. With fewer paying customers and reduced revenue, he will need to cut some costs to stay in business.</p>

					<p>One of the biggest carnival attractions is a large, confusing maze. It consists of a variety of circular rooms connected by narrow, twisting corridors. Visitors love getting lost in it and trying to map it out. It has come to Jay’s attention that some of the rooms might be effectively identical to each other. If that’s the case, he will be able to reduce its size without anyone noticing.</p>

					<p>Two rooms A and B are effectively identical if, when you are dropped into either room A or B (and you know the map of the maze), you cannot tell whether you began in A or B just by exploring the maze. The corridor exits are evenly spaced around each room, and you cannot mark or leave anything in a room (in particular, you cannot tell whether you have previously visited it). The only identifying feature that rooms have is their number of exits. Corridors are also twisty enough to be indistinguishable from each other, but when you enter a room you know which corridor you came from, so you can navigate a little by using the order they appear around the room.</p>

					<p>Jay has appealed to the Association for Carnival Mazery for help. That’s you! Write a program to determine all the sets of effectively identical rooms in the maze.</p>
				</div>

				<h2>Entrada</h2>

				<div class="input">
					<p>The input consists of a single test case. The first line contains an integer <strong>n</strong>, the number of rooms in the maze (1 ≤ <strong>n</strong> ≤ 100). Rooms are numbered from 1 to <strong>n</strong>. Following this are <strong>n</strong> lines, describing each room in order. Each line consists of an integer <strong>k</strong>, indicating that this room has <strong>k</strong> corridors (0 ≤ <strong>k</strong> &lt; 100), and then <strong>k</strong> distinct integers listing the rooms each corridor connects to (in clockwise order, from an arbitrary starting point). Rooms do not connect to themselves.</p>
				</div>

				<h2>Saída</h2>

				<div class="output">
					<p>Display one line for each maximal set of effectively identical rooms (ignoring sets of size 1) containing the room numbers in the set in increasing order. Order the sets by their smallest room numbers. If there are no such sets, display 'none' instead.</p>
				</div>

				<div class="both"></div>

				<table>
					<thead>
						<tr>
							<td>Exemplos de Entrada</td>
							<td>Exemplos de Saída</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								<p>13</p>

								<p>2 2 4</p>

								<p>3 1 3 5</p>

								<p>2 2 4</p>

								<p>3 1 3 6</p>

								<p>2 2 6</p>

								<p>2 4 5</p>

								<p>2 8 9</p>

								<p>2 7 9</p>

								<p>2 7 8</p>

								<p>2 11 13</p>

								<p>2 10 12</p>

								<p>2 11 13</p>

								<p>2 10 12</p>

							</td>
							<td>
								<p>2 4</p>

								<p>5 6</p>

								<p>7 8 9 10 11 12 13</p>

							</td>
						</tr>
					</tbody>
				</table>

				<div class="both"></div>
	
				<table>
					<thead>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								<p>6</p>

								<p>3 3 4 5</p>

								<p>0</p>

								<p>1 1</p>

								<p>1 1</p>

								<p>2 1 6</p>

								<p>1 5</p>

							</td>
							<td>
								<p>none</p>

							</td>
						</tr>
					</tbody>
				</table>
				<p class="footer">
					ICPC 2014 World Finals
				</p>
			</div>

		</body>
	</html>