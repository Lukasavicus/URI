
	<!DOCTYPE html>
	<html>
		<head>
			<title>URI 2257 - Surely You Congest</title>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
			<meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
			<meta name="description" content="URI Online Judge - Problema 2257 - Surely You Congest" />

			<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
			<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/contest.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
		</head>
		<body>

			<div class="header">
				<span>URI Online Judge | 2257</span>
				<h1>Surely You Congest</h1>
				<div>
					<p>Por ICPC 2013 World Finals <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/ru.gif' alt='RU' /> Russian Federation</p>
				</div>
				<strong>Timelimit: 10</strong>
			</div>

			<div class="problem">

				<div class="description">
					<p>You are in charge of designing an advanced centralized traffic management system for smart cars. The goal is to use global information to instruct morning commuters, who must drive downtown from the suburbs, how best to get to the city center while avoiding traffic jams.</p>

					<p>Unfortunately, since commuters know the city and are selfish, you cannot simply tell them to travel routes that take longer than normal (otherwise they will just ignore your directions). You can only convince them to change to different routes that are equally fast.</p>

					<p>The city’s network of roads consists of intersections that are connected by bidirectional roads of various travel times. Each commuter starts at some intersection, which may vary from commuter to commuter. All commuters end their journeys at the same place, which is downtown at intersection 1. If two commuters attempt to start travelling along the same road in the same direction at the same time, there will be congestion; you must avoid this. However, it is fine if two commuters pass through the same intersection simultaneously or if they take the same road starting at different times.</p>

					<p>Determine the maximum number of commuters who can drive downtown without congestion, subject to all commuters starting their journeys at exactly the same time and without any of them taking a suboptimal route.</p>

					<center> <img src="https://www.urionlinejudge.com.br/gallery/images/contests/UOJ_153_C.png" width="500" alt="ways" /> </center>

					<p style="text-align: center;">Figure C.1: Illustration of Sample Input 2.</p>

					<p>In Figure C.1, cars are shown in their original locations. One car is already downtown. Of the cars at intersection 4, one can go along the dotted route through intersection 3, and another along the dashed route through intersection 2. But the remaining two cars cannot reach downtown while avoiding congestion. So a maximum of 3 cars can reach downtown with no congestion.</p>
				</div>

				<h2>Entrada</h2>

				<div class="input">
					<p>The input consists of a single test case. The first line contains three integers <strong>n</strong>, <strong>m</strong>, and <strong>c</strong>, where <strong>n</strong> (1 ≤ <strong>n</strong> ≤ 25 000) is the number of intersections, <strong>m</strong> (0 ≤ <strong>m</strong> ≤ 50 000) is the number of roads, and <strong>c</strong> (0 ≤ <strong>c</strong> ≤ 1 000) is the number of commuters. Each of the next <strong>m</strong> lines contains three integers <strong>x<sub>i</sub></strong> , <strong>y<sub>i</sub></strong> , and <strong>t<sub>i</sub></strong> describing one road, where <strong>x<sub>i</sub></strong> and <strong>y<sub>i</sub></strong> (1 ≤ <strong>x<sub>i</sub></strong> , <strong>y<sub>i</sub></strong> ≤ <strong>n</strong>) are the distinct intersections the road connects, and <strong>t<sub>i</sub></strong> (1 ≤ <strong>t<sub>i</sub></strong> ≤ 10 000) is the time it takes to travel along that road in either direction. You may assume that downtown is reachable from every intersection. The last line contains <strong>c</strong> integers listing the starting intersections of the commuters.</p>
				</div>

				<h2>Saída</h2>

				<div class="output">
					<p>Display the maximum number of commuters who can reach downtown without congestion.</p>
				</div>

				<div class="both"></div>

				<table>
					<thead>
						<tr>
							<td>Exemplos de Entrada</td>
							<td>Exemplos de Saída</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								<p>3 3 2</p>

								<p>1 2 42</p>

								<p>2 3 1</p>

								<p>2 3 1</p>

								<p>2 3</p>

							</td>
							<td>
								<p>2</p>

							</td>
						</tr>
					</tbody>
				</table>

				<div class="both"></div>
	
				<table>
					<thead>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								<p>4 4 5</p>

								<p>1 2 5</p>

								<p>1 3 4</p>

								<p>4 2 5</p>

								<p>4 3 6</p>

								<p>4 4 4 4 1</p>

							</td>
							<td>
								<p>3</p>

							</td>
						</tr>
					</tbody>
				</table>
				<p class="footer">
					ICPC 2013 World Finals
				</p>
			</div>

		</body>
	</html>