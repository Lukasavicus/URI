<!DOCTYPE html>
    <html>
        <head>
            <title>URI 2047 - Fly By Night</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
            <meta name="description" content="URI Online Judge - Problema 2047 - Fly By Night" />

            <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/default.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
        </head>
        <body>

            <div class="header">
                <span>URI Online Judge | 2047</span>
                <h1>Fly By Night</h1>
                <div>
                    <p>Por IX Maratona de Programação IME-USP, 2005 <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/br.gif' alt='BR' /> Brasil</p>
                </div>
                <strong>Timelimit: 1</strong>
            </div>

            <div class="problem">

                <div class="description">
                    <p>Bill Poucher anunciou em Shangai (China), em abril último, que a trigésima final mundial do ACM-ICPC será realizada em San Antonio (USA) na segunda semana de 2006.</p>

                    <p>Ao tomar conhecimento de tal informação (com alguns meses de atraso), uma empresa de transportes aéreos do Texas - conhecida como Fly by Night Ltd. - decidiu aproveitar o evento para tentar incrementar seu ganho anual.</p>

                    <p>O objetivo do CEO da empresa era oferecer transporte aéreo para os times (incluindo competidores e técnicos) e para a equipe de suporte (aqueles que fazem as coisas funcionarem) a partir de suas cidades de origem, em seus países de origem, até o local da competição. Para tentar garantir o sucesso de sua idéia, o mesmo CEO ofereceu tarifas ligeiramente abaixo do preço de mercado para aqueles que seriam transportados. Como eles eram em sua maioria estudantes e professores universitários, toparam na hora.</p>

                    <p>Como você já deve ter imaginado, a Fly by Night Ltd. opera vôos noturnos. No entanto, em vez de possuir seus proprios aviões, a referida empresa apenas vende assentos em vôos de outras companhias. Ela ganha uma boa comissão devido ao fato de tais vôos terem, historicamente, uma baixa ocupação.</p>

                    <p>No entanto, quando os funcionários da empresa foram verificar os vôos que teriam à disposição para realizarem a operação, tiveram uma bela surpresa. A maior parte dos vôos estava completamente lotada. Os que não estavam lotados, não possuiam muitos assentos livres. Ninguém soube explicar o motivo de tal demanda irregular. Duas hipóteses foram levantadas: a proximidade do spring-break americano e a popularidade da competição. :-)</p>

                    <p>Na tentativa de salvar a empresa (e seu próprio cargo), o CEO percebeu que teria de utilizar escalas e baldeações. O lucro desta forma seria menor, mas nada comparado ao prejuízo que teria se operasse com vôos diurnos ou deixasse de transportar os passageiros (que naquela altura, já tinham pago as passagens...).</p>

                    <p>Os funcionários da Fly by Night Ltd. levantaram então um conjunto de cenários com vôos que poderiam ser utilizados. O que foi percebido pouco depois é que nem todos os cenários eram viáveis, já que nem todos conseguiam transportar o montante de passageiros necessário. Finalmente, o CEO percebeu que não tinha pessoal qualificado para lidar com a situação. Você foi então contratado para desenvolver um programa que, para cada cenário construído, responda se o cenário é viável ou inviável.</p>

                </div>

                <h2>Entrada</h2>

                <div class="input">
                    <p>Um cenário será, daqui em diante, chamado de instância. Seu programa deve estar preparado para lidar com diversas instâncias.</p>

                    <p>Cada instância começa com um inteiro 0 ≤ <strong>m</strong> ≤ 100 que especifica o número de cidades de origem dos passageiros que devem ser transportados. Um valor <strong>m</strong> = 0 indica o final das instâncias e não deverá ser processado. Em caso contrário, em cada uma das próximas <strong>m</strong> linhas, são dados o nome de uma cidade de origem e o respectivo número de passageiros daquela cidade (um inteiro não negativo menor ou igual a 100). O nome de uma cidade possui entre 1 e 20 caracteres tomados do alfabeto Σ={a,b,...,z,-}.</p>

                    <p>Na próxima linha são dados um inteiro 0 ≤ <strong>n</strong> ≤ 100, que representa o número de vôos da instância, e o nome da cidade em que ocorrerá o evento (o CEO decidiu que o programa deveria aceitar isso). O nome desta cidade segue as mesmas regras estabelecidas acima.</p>

                    <p>Em cada uma das próximas <strong>n</strong> linhas são dados os nomes de duas cidades de um vôo (origem e destino, respectivamente), seguido por um inteiro não negativo menor ou igual a 200 que representa o número de assentos livres naquele vôo. Novamente os nomes das cidades estão sobre Σ e de comprimento entre 1 e 20. Você pode supor que não há duas cidades com o mesmo nome, e que as cidades de origem e destino são sempre diferentes. Além disso, a Fly by Night Ltd. não trabalha com mais de um vôo entre quaisquer duas cidades.</p>

                    <p>Em cada linha da entrada, um número qualquer de espaços pode separar os dados fornecidos.</p>

                </div>

                <h2>Saída</h2>

                <div class="output">
                    <p>Para cada instância solucionada, você deverá imprimir um identificador <strong>Instancia h</strong> em que <strong>h</strong> é um número inteiro, sequencial e crescente a partir de 1. Na linha seguinte, você deve imprimir <strong>viavel</strong> se é possível transportar todos os passageiros de suas origens até o destino especificado, e <strong>inviavel</strong> em caso contrário. Uma linha em branco deve separar a saída de cada instância. Inclusive na última instancia.</p>

                </div>

                <div class="both"></div>

                <table>
                    <thead>
                        <tr>
                            <td>Exemplo de Entrada</td>
                            <td>Exemplo de Saída</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="division">
                                <p>3<br />
boston &nbsp; &nbsp;3<br />
sao-paulo 4<br />
waterloo &nbsp;5<br />
10 san-antonio<br />
atlanta &nbsp; san-antonio 2<br />
boston &nbsp; &nbsp;dallas &nbsp; &nbsp; &nbsp;4<br />
dallas &nbsp; &nbsp;san-antonio 3<br />
denver &nbsp; &nbsp;san-antonio 3<br />
houston &nbsp; san-antonio 6<br />
sao-paulo atlanta &nbsp; &nbsp; 2<br />
sao-paulo houston &nbsp; &nbsp; 3<br />
waterloo &nbsp;atlanta &nbsp; &nbsp; 1<br />
waterloo &nbsp;denver &nbsp; &nbsp; &nbsp;3<br />
waterloo &nbsp;houston &nbsp; &nbsp; 2<br />
1<br />
san-francisco 11<br />
7 new-york<br />
san-francisco denver &nbsp; 5<br />
san-francisco houston &nbsp;6<br />
denver &nbsp; &nbsp; &nbsp; &nbsp;atlanta &nbsp;4<br />
denver &nbsp; &nbsp; &nbsp; &nbsp;chicago &nbsp;2<br />
houston &nbsp; &nbsp; &nbsp; atlanta &nbsp;5<br />
atlanta &nbsp; &nbsp; &nbsp; now-york 7<br />
chicago &nbsp; &nbsp; &nbsp; new-york 4<br />
0</p>

                            </td>
                            <td>
                                <p>Instancia 1<br />
viavel<br />
<br />
Instancia 2<br />
inviavel<br />
&nbsp;</p>

                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <p class="footer">
                    IX Maratona de Programação IME-USP, 2005
                </p>
            </div>

        </body>
    </html>
