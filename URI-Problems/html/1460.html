<!DOCTYPE html>
<html>
    <head>
        <title>URI 1460 - Parreiral</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
        <meta name="description" content="URI Online Judge - Problema 1460 - Parreiral" />
        
        <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/default.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
    </head>
    <body>

        <div class="header">
            <span>URI Online Judge | 1460</span>
            <h1>Parreiral</h1>
            <div>Por Ricardo Anido <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/br.gif' alt=''/> Brasil</div>
            <strong>Timelimit: 3</strong>
        </div>

        <div class="problem">

            <div class="description">
                <p>Na Quadradônia, todas as propriedades rurais são quadradas, todas possuem a mesma área, todas são perfeitamente planas e todas possuem os lados alinhados aos eixos Norte-Sul e Leste-Oeste.</p>

                <p>Como as propriedades são planas, as colinas na Quadradônia parecem uma série de degrais gigantes, com tamanhos diferentes. Em uma certa montanha, uma situação interessante ocorre em uma área retangular de N x M propriedades. Começando de qualquer lugar da região, ao ir do Oeste para o Leste, as propriedades possuem alturas não-decrescentes. De forma simular, atravessar a região do Norte para o Sul, começando em qualquer lugar, as propriedades também possuem alturas não-decrescentes.</p>

                <p>Uma grande empresa de vinhos na Quadradônia quer alugar algumas propriedades daquela região para cultivar uvas. A empresa está interessada em uma variedade especial de parreiras que só produzem uvas se cultivadas em propriedades cujas alturas estão em um certo intervalo. Ou seja, a empresa está interessada em alugar propriedades cujas alturas sejam maiores ou iguais a uma dada altura L e menores ou iguais a outra dada altura U. Para facilitar a colheita, as propriedades devem formar uma área contígua. E como todos na Quadradônia gostam de quadrados, a área a ser alugada deve ter a forma de um quadrado.</p>

                <p>A empresa ainda não decidiu qual variedade de uvas irá produzir, e portanto possui uma lista de consultas envolvendo intervalos, um para cada variedade de uva. A figura abaixo mostra uma área de interesse de dimensão 4 x 5 (em número de propriedades) com exemplos de áreas que a empresa poderia alugar para cultivar uvas em alturas dentro dos intervalos dados nas figuras.</p>

                <p class="center"><img alt="" src="https://urionlinejudge.r.worldssl.net/gallery/images/novos/Grapewine.png" style="width: 499px; height: 119px;" />​</p>

                <p>Você deve escrever um programa que, dadas a descrição da área de interesse na montanha e uma lista de consultas contendo intervalos de alturas, determina, para cada consulta, o maior lado (em número de propriedades) da maior área contígua quadrada com alturas dentro do intervalo em questão.</p>

            </div>

            <h2>Entrada</h2>

            <div class="input">
                <p>A entrada contém vários casos de teste. A primeira linha de um caso de teste contém dois inteiros <strong>N</strong> e <strong>M</strong>, separados por um espaço simples, representando, respectivamente, o número de propriedades na direção Norte-Sul (1 ≤ <strong>N</strong> ≤ 500) e o número de propriedades na direção Oeste-Leste (1 ≤ <strong>M</strong> ≤ 500) da região de interesse. Cada uma das próximas <strong>N</strong> linhas contém <strong>M</strong> inteiros <strong>Hi, j</strong>, separados por espaços simples, indicando as alturas das propriedades na região de interesse (0 ≤ <strong>Hi,j</strong> ≤ 10<sup>5</sup>, com 1 ≤ <strong>i</strong> ≤ <strong>N</strong> e 1 ≤<strong> j</strong> ≤<strong> M</strong>; também, <strong>Hi</strong>-1, <strong>j</strong> ≤ <strong>Hi, j</strong> e <strong>Hi, j</strong>-1 ≤<strong> Hi, j</strong>). A próxima linha contém um inteiro <strong>Q</strong> indicando o número de consultas (1 ≤ <strong>Q</strong> ≤ 10<sup>4</sup>). Cada uma das próximas <strong>Q</strong> linhas descrevem uma consulta e contém dois inteiros <strong>L</strong> e<strong> U</strong>, separados por um espaço em branco, indicando um intervalo de alturas (0 ≤ <strong>L</strong> ≤ <strong>U</strong> ≤ 10<sup>5</sup>). As alturas das propriedades a serem alugadas devem ser maiores ou iguais a<strong> L</strong> e menores ou iguais a <strong>U</strong>.</p>

                <p>O último caso de teste é seguido de uma linha contendo dois zeros separados por um espaço simples.</p>

            </div>

            <h2>Saída</h2>

            <div class="output">
                <p>Para cada caso de teste da entrada, seu programa deve imprimir <strong>Q</strong>+1 linhas. Cada uma das primeiras <strong>Q</strong> linhas deve conter um único inteiro, indicando o maior tamanho, em número de propriedades, de uma área quadrada contígua com alturas dentro do intervalo especificado na respectiva consulta. A última linha a ser impressa para cada caso de teste é usada como separadora e deve conter um único caractere '-' (conhecido como hífen ou "sinal de menos").</p>

            </div>

            <div class="both"></div>

            <table>
                <thead>
                    <tr>
                        <td>Exemplo de Entrada</td>
                        <td>Exemplo de Saída</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="division">
                            <p>4 5<br />
                                13 21 25 33 34<br />
                                16 21 33 35 35<br />
                                16 33 33 45 50<br />
                                23 51 66 83 93<br />
                                3<br />
                                22 90<br />
                                33 35<br />
                                20 100<br />
                                4 4<br />
                                1 7 9 11<br />
                                5 8 10 12<br />
                                7 10 15 17<br />
                                11 19 30 41<br />
                                4<br />
                                6 20<br />
                                7 9<br />
                                10 10<br />
                                13 14<br />
                                0 0</p>

                        </td>
                        <td>
                            <p>3<br />
                                2<br />
                                4<br />
                                -<br />
                                3<br />
                                1<br />
                                1<br />
                                0<br />
                                -</p>

                        </td>
                    </tr>
                </tbody>
            </table>
            <p class="footer">
                ACM/ICPC South America Contest 2009.
            </p>
        </div>

    </body>
</html>