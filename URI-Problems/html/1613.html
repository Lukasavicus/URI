<!DOCTYPE html>
    <html>
        <head>
            <title>URI 1613 - Goemon em Apuros</title>
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
            <meta name="description" content="URI Online Judge - Problema 1613 - Goemon em Apuros" />

            <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/default.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
        </head>
        <body>

            <div class="header">
                <span>URI Online Judge | 1613</span>
                <h1>Goemon em Apuros</h1>
                <div>
                    <p>Por Filipe Nascimento, Universidade de São Paulo - São Carlos <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/br.gif' alt='BR' /> Brazil</p>
                </div>
                <strong>Timelimit: 1</strong>
            </div>

            <div class="problem">

                <div class="description">
                    <p>O lendário Ishikawa Goemon será fervido vivo em um grande caldeirão de ferro se for capturado! Para se esconder dos guardas nosso herói correu para dentro de uma casa que contém algumas paredes. Como é noite e a casa está escura os guardas jogaram uma bomba de luz para localizar o fugitivo. Tudo que for iluminado pela explosão da bomba será visto pelos guardas. A bomba emite infinitos raios de luz, em linha reta, para todas as direções partindo de seu epicentro.</p>

                    <p>Podemos simplificar este cenário usando um plano cartesiano 2D, onde as paredes da casa são segmentos da reta X = 0. O epicentro da explosão de luz sempre terá coordenada com valor X &lt; 0. Os pontos onde Goemon pode se esconder sempre terão coordenadas com X &gt; 0. A imagem abaixo ilustra o cenário iluminado quando a bomba no ponto E(-12,12) explode:</p>

                    <p style="text-align: center;"><img alt="" src="https://urionlinejudge.r.worldssl.net/gallery/images/problems/UOJ_1613.png" /></p>

                    <p>As paredes são descritas por segmentos de reta, e elas bloqueiam os raios de luz. No exemplo acima temos a parede A que vai do ponto A(0,0) até o ponto A1(0,2), a parede B que vai de B(0,4) até B1(0,6), a parede C que vai de C(0,10) até C1(0,12) e a parade D que vai de D(0,14) até D1(0,16). O epicentro da explosão de luz é o ponto E(-12,12) no exemplo dado, e Goemon tem as opções de ficar nos pontos G1(8,2), G2(12,14) e G3(10,10). Destes três pontos, ele só estará protegido no ponto G3, pois os raios de luz da explosão não alcançam este ponto mas alcançam os outros pontos (inclusive o G1), tornando-os visíveis para os guardas.</p>

                    <p>Dado o epicentro da explosão, as paredes e os pontos que Goemon pode ficar, calcule quantos destes pontos são seguros para ele se esconder.</p>

                </div>

                <h2>Entrada</h2>

                <div class="input">
                   

                    <p>Na primeira linha você terá um inteiro <strong>T</strong> (<strong>T</strong> = 100) indicando o número de casos de teste.</p>

                    <p>Na primeira linha de cada caso de teste terá a coordenada (<strong>x</strong>, <strong>y</strong>) do epicentro da explosão de luz. Na próxima linha terá um inteiro <strong>P</strong> (1 ≤ <strong>P</strong>*), indicando o número de paredes existentes. Nas próximas <strong>P</strong> linhas seguirão pares de inteiros indicando as posições das paredes, onde começa e termina uma parede (lembre-se que elas ficam no eixo <strong>Y</strong>, ou seja, <strong>X</strong> = 0). Depois haverá um inteiro <strong>G</strong> (<strong>G</strong> ≤ 100* ou <strong>G</strong> ≤ 10<sup>4</sup>**) indicando os pontos candidatos para Goemon se esconder. Depois <strong>G</strong> linhas seguirão com pares de coordenadas (<strong>x</strong>, <strong>y</strong>) indicando as coordenadas dos pontos.</p>

                    <p>Todas as coordenadas irão de -10<sup>4</sup> até 10<sup>4</sup> e serão números inteiros. O centro da explosão terá <strong>X</strong> &lt; 0 e as posições de Goemon <strong>X</strong> &gt; 0. O <strong>Y</strong> inicial de uma parede sempre será estritamente menor do que o final. As paredes não estarão ordenadas. As paredes não se intersectarão, e não podem compartilhar um ponto inicial ou final. Pode ter posições repetidas de Goemon.</p>

                   <p>*Ocorre em aproximadamente 90% dos casos de teste;</p>
                    <p>**Ocorre nos demais casos de teste.</p>

                </div>

                <h2>Saída</h2>

                <div class="output">
                    <p>Para cada caso imprima o número de pontos que são seguros para Goemon ficar.</p>

                </div>

                <div class="both"></div>

                <table>
                    <thead>
                        <tr>
                            <td>Exemplo de Entrada</td>
                            <td>Exemplo de Saída</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="division">
                                <p>2</p>

                                <p>-12 12</p>
                                
                                <p>4</p>
                                
                                <p>0 2</p>
                                
                                <p>4 6</p>
                                
                                <p>10 12</p>
                                
                                <p>14 16</p>
                                
                                <p>3</p>
                                
                                <p>8 2</p>
                                
                                <p>10 10</p>
                                
                                <p>12 14</p>
                                
                                <p>-4 -4</p>
                                
                                <p>3</p>
                                
                                <p>10 11</p>
                                
                                <p>-8 8</p>
                                
                                <p>20 30</p>
                                
                                <p>5</p>
                                
                                <p>1 0</p>
                                
                                <p>1 4</p>
                                
                                <p>1 -4</p>
                                
                                <p>1 100</p>
                                
                                <p>1 -100</p>

                            </td>
                            <td>
                                <p>1</p>

                                <p>3</p>

                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <p class="footer">
                    Seletiva USP São Carlos - Segunda Prova 2014
                </p>
            </div>

        </body>
    </html>
