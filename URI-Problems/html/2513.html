

	<!DOCTYPE html>
	<html>
		<head>
			<title>URI 2513 - Xoringan</title>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
			<meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
			<meta name="description" content="URI Online Judge - Problema 2513 - Xoringan" />

			<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
			<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/contest.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
		</head>
		<body>

			<div class="header">
				<span>URI Online Judge | 2513</span>
				<h1>Xoringan</h1>
				<div>
					<p>Por Francisco Elio Parente Arcos Filho, UEA <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/br.gif' alt='BR' /> Brazil</p>
				</div>
				<strong>Timelimit: 4</strong>
			</div>

			<div class="problem">

				<div class="description">
					<p>Os membros do clã Uxorra que habitam a prestigiada Vila da folha são proeminentes ninjas cujas habilidades são invejadas por muitos. Além de sua força e excelentes jutsus (técnicas ninjas) com fogo, eles possuem um trunfo que os destaca ainda mais dos outros ninjas da vila e do mundo: O seu Xoringan.</p>

<p>O Xoringan é um <em>dojutsu</em> (olhos com habilidades ninjas) <em>kekkei genkai </em>(habilidade transferida através de linhagem sanguínea) muito poderoso e usado por membros do clã geralmente em batalhas. Ele dá ao usuário inúmeras habilidades úteis durante uma luta como ver o fluxo de chakra (energia interna ultilizada para fazer jutsus) do inimigo, prever os movimentos do adversário e até copiar técnicas olhando para elas uma única vez.</p>

<p>Os jutsus são feitos com uma combinação específica de selos (gestos com as mãos unidas e posicionamento dos dedos) onde cada selo só pode ser utilizado uma única vez em um jutsu. Alguns selos são mais poderosos e quando usados em um jutsu lhe dão poder de ataque maior, outros, nem tanto. Existem 64 tipos de selos diferentes sendo que o mais fraco deles tem poder de ataque 1, o segundo mais fraco tem o dobro do primeiro, o terceiro o dobro do segundo e assim por diante. Isso faz com que cada jutsu diferente tenha um poder de ataque único e pode ser visto por um usuário de Xoringan como um número. Por exemplo, um jutsu que use o primeiro, o terceiro e o quinto selos mais fracos tem poder de ataque 21 e pode ser simplesmente referenciado como jutsu 21.</p>

<p>Há ninjas habilidosos que conseguem executar jutsus secretos há medida que executam outros e fazem isso reaproveitando selos usados nesses jutsus. Por exemplo, se esse ninja executa uma sequência de técnicas, ele pode reaproveitar cada combinação de selos usada para fazer cada um desses jutsus para fazer a combinação de selos do jutsu secreto. Para saber qual é o jutsu secreto é preciso saber quais selos, dentre todos os usados na sequência, permanecem ativos. Quando um selo é feito pela primeira vez ele é ativado, porém se é feito uma segunda vez é então desativado, podendo ser ativado novamente se for feito outra vez em um próximo jutsu da sequência.</p>

<p>Por exemplo, se um ninja executar os jutsus 10, 31, 21, 15, 14, 7, 5 e 9 e tentar executar o jutsu secreto usando os selos entre o terceiro e o sétimo (21, 15, 14, 7, 5), o jutsu secreto que irá fazer é o 22. Também é importante observar que nem todo jutsu é tão secreto assim. Se na mesma sequência ele tentasse fazer o jutsu secreto durante só o primeiro jutsu, ele só acabaria por fazer o jutsu 10 novamente.</p>

<p>Rodrigo é um jovem Uxorra que usa seu Xoringan para poder prever todos os jutsus que seu adversário irá fazer e na ordem exata portanto é capaz de medir à ameaça que seu oponente representa. E esta, nada mais é do que a soma do poder de ataque de todos os possíveis jutsus secretos que seu adversário tem a possibilidade de fazer.</p>

<p>Sua tarefa é fazer um programa que simule os poderes do Xoringan e consiga dizer, dado a sequência de jutsus que o ninja irá fazer, quanto de ameaça ele representa.</p>
				</div>

				<h2>Entrada</h2>

				<div class="input">
					<p>A entrada é composta de vários casos de teste. A primeira linha de um caso de teste contém um inteiro <strong>N</strong> (1 &le; <strong>N</strong> &le; 10<sup>3</sup>) que representa a quantidade de jutsus prevista pelo Xoringan. A segunda linha contém <strong>N </strong>valores inteiros na ordem de execução que representam o poder de ataque de cada jutsu.</p>
				</div>

				<h2>Saída</h2>

				<div class="output">
					<p>A saída é composta de uma linha por caso de teste representando o valor da ameaça que uma sequência de jutsus representa módulo 10<sup>9</sup>+7.</p>
				</div>

				<div class="both"></div>

				<table>
					<thead>
						<tr>
							<td>Exemplo de Entrada</td>
							<td>Exemplo de Saída</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								<p>2</p>

<p>2 3</p>

<p>2</p>

<p>3 7</p>

<p>3</p>

<p>1 2 3</p>

							</td>
							<td>
								<p>6</p>

<p>14</p>

<p>10</p>

							</td>
						</tr>
					</tbody>
				</table>

				<div class="both"></div>
	
				<p class="footer">
					Agradecimentos à Letícia Martins.
				</p>
			</div>

		</body>
	</html>
