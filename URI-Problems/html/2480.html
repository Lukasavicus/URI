

	<!DOCTYPE html>
	<html>
		<head>
			<title>URI 2480 - Luzes Vermelhas</title>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
			<meta name="author" content="URI Online Judge; www.urionlinejudge.edu.br" />
			<meta name="description" content="URI Online Judge - Problema 2480 - Luzes Vermelhas" />

			<link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700" rel="stylesheet" type="text/css">
			<link rel="stylesheet" type="text/css" href="https://urionlinejudge.r.worldssl.net/repository/contest.css" />

	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28047757-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-28047757-1');
	</script>
		</head>
		<body>

			<div class="header">
				<span>URI Online Judge | 2480</span>
				<h1>Luzes Vermelhas</h1>
				<div>
					<p>Por Lucas Bucior, URI Online Judge <img src='https://urionlinejudge.r.worldssl.net/gallery/images/flags/br.gif' alt='BR' /> Brazil</p>
				</div>
				<strong>Timelimit: 1</strong>
			</div>

			<div class="problem">

				<div class="description">
					<p>Neste ano Papai Noel deu uma ordem bem incomum ao chanceler Jack Redd, que organiza as lâmpadas para enviar para todas as sedes. Noel quer que elas sejam organizadas de uma forma específica e parece que não é uma tarefa muito simples para Jack, que precisa muito da sua ajuda.</p>

					<p>A unidade central de distribuição das lâmpadas está localizada no Sul do Brasil, mais precisamente em Erechim. Jack quer organizar o estoque de luzes para distribuir para as cidades-sede. O estoque de luzes é grande. São muitas caixas de luzes com diferentes tipos: R-Vermelhas, W-Brancas, G-Verdes, S-Pratas.</p>

					<p> Jack quer que você organize as colunas de caixas de acordo com as cores. Primeiro as vermelhas, depois as brancas, seguidas pelas verdes e por último as pratas. Além disso, Jack quer que as maiores caixas fiquem embaixo. O tamanho da caixa é representado pelo número. Por exemplo <strong>8R</strong> significa uma caixa vermelha de tamanho 8. Você pode observar na figura abaixo a primeira coluna em destaque, já ordenada na forma que Jack quer. Essa imagem representa o primeiro caso de teste deste problema.</p>

					<p class="center"><img alt="" src="https://urionlinejudge.r.worldssl.net/gallery/images/contests/UOJ_230_G.png" style="width:237px; height:284px"></p>

					<p>Quando movimentamos uma caixa, a linha correspondente desta caixa de luz é alterada junto (a imagem mostra que todas as linhas são ligadas por um fio). Mas tem um pequeno detalhe. Quando a primeira coluna é ordenada de acordo com o critério estabelecido por Jack, ela então é então retirada e seus fios são cortados. O processo inicia novamente com a próxima coluna (a que tem <strong>6R</strong> no topo) é repetido até que não haja mais nenhuma coluna para ordenar.</p>

					<p>Será que você pode ajudar Jack nesta tarefa, indicando quantos movimentos de caixa são necessários para fazer esta organização desejada por Noel?</p>
				</div>

				<h2>Entrada</h2>

				<div class="input">
					<p>A primeira linha de cada instância contém dois inteiros <strong>N</strong> (1 ≤ <strong>N </strong>≤ 20) e <strong>M</strong> (1 ≤ <strong>M </strong>≤ 10<sup>5</sup>), que correspondem ao número de linhas e colunas do estoque. As <strong>N </strong> linhas seguintes contém <strong>M </strong> caixas de luzes, definidas como [<strong>Q</strong>]<strong>T</strong>. <strong>Q </strong> (1 ≤ <strong>Q </strong>≤ 10<sup>9</sup>) corresponde a quantidade de luzes e <strong>T </strong> o tipo de luz <strong>R</strong>, <strong>W</strong>, <strong>G</strong> ou <strong>S </strong> respectivamente. A entrada termina com final de arquivo (EOF).</p>
				</div>

				<h2>Saída</h2>

				<div class="output">
					<p>Para cada instância, imprimir a mensagem <strong>"</strong>Instance <strong>H</strong>:<strong>"</strong>, onde <strong>H</strong> é o número da instância, sequencial e crescente (de 01 a 99). Em seguida imprimir o resultado das operações de movimento das caixas e o total de luzes vermelhas encontradas no estoque. Imprimir uma linha em branco entre duas instâncias consecutivas.</p>
				</div>

				<div class="both"></div>

				<table>
					<thead>
						<tr>
							<td>Exemplo de Entrada</td>
							<td>Exemplo de Saída</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="division">
								
								<p>6 5<br />
[6]W [5]S [8]R [5]R [6]R<br />
[8]R [8]G [1]W [7]W [7]R<br />
[7]S [6]W [7]G [2]G [2]W<br />
[5]G [7]G [5]R [7]R [6]R<br />
[2]S [6]R [4]S [5]S [6]S<br />
[7]R [8]W [6]W [8]S [7]R<br />
</p>
<p>3 3</p>
[2]R [5]S [7]R<br />
[2]S [8]G [1]W<br />
[1]R [6]W [7]G<br />
<p>7 4<br />
[8]W [5]S [9]R [7]R<br />
[7]R [8]G [1]W [7]W<br />
[7]S [6]W [7]G [2]G<br />
[7]G [6]G [5]R [8]R<br />
[6]S [6]R [4]S [5]S<br />
[5]R [8]W [6]W [8]S<br />
[2]W [5]S [7]R [7]S<br />
								

							</td>
							<td>
								<p>Instance 01:</p>
								<p>40 72</p>
								<br />
							    <p>Instance 02:</p>
								<p>7 10</p>
								<br />
								<p>Instance 03:</p>
								<p>50 54</p>
							</td>
						</tr>
					</tbody>
				</table>

				<div class="both"></div>
	
				<p class="footer">
					Contest de Natal 2016.
				</p>
			</div>

		</body>
	</html>
